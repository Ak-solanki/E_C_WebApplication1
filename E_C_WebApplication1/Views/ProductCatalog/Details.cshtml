@model E_C_WebApplication1.Models.ProductDetailsViewModel

@{
    ViewBag.Title = Model.Product.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Product.Name</h2>

<div>
    <h3>Product Details</h3>
    <p>@Model.Product.Description</p>
    <p><strong>Price:</strong> @Model.Product.Price.ToString("C")</p>
    <p><strong>Category:</strong> @Model.Product.Category</p>
    <p><strong>Stock Quantity:</strong> @Model.Product.StockQuantity</p>

    <h4>Images</h4>
    @if (Model.Images.Any())
    {
        <div class="product-images">
            @foreach (var image in Model.Images)
            {
                <img src="@image.ImageUrl" alt="@Model.Product.Name" style="width: 200px; height: auto;" />
            }
        </div>
    }
    else
    {
        <p>No images available.</p>
    }

    <h4>Reviews</h4>
    <p><strong>Average Rating:</strong> @Model.AverageRating.ToString("F1") / 5</p>

    @if (Model.Reviews.Any())
    {
        <ul>
            @foreach (var review in Model.Reviews)
            {
                <li>
                    <strong>@review.User.Username</strong> (@review.CreatedAt.ToString("d MMM yyyy")):
                    <span>@review.Content</span>
                    <div>
                        Rating: @review.Rating / 5
                    </div>
                </li>
            }
        </ul>
    }
    else
    {
        <p>No reviews available.</p>
    }
</div>

